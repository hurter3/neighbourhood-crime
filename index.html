<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Neighbourhood Wise</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/style.css" type="text/css" />

</head>

<!-- *********************************************************************************************************** -->
<!--                                                                                                             --> 
<!-- This website is an interactive monthly crime dashboard of the Sunbury area sourced from open API data at    --> 
<!-- data.police.uk                                                                                              -->
<!--                                                                                                             -->
<!-- There are 2 js files,                                                                                       -->
<!-- The first being main.js that builds the pieChart on the main screen and                                     -->
<!-- controls all user activity by displaying a relevant crime details table on one or more selected categories. -->
<!-- The second is maps.js which builds the google map and displays marker and cluster markers                   -->
<!-- with an infoWindow when you hover over a labal relating to the selected crime categories.                   -->
<!--                                                                                                             -->
<!-- On the navbar there is a 'Stop and Search' link that uses the same main page by clearing the pieChart, map  --> 
<!-- and crimeTable to display interactive bar charts by manipulating the DOM.                                   -->
<!--                                                                                                             -->
<!-- At anytime you can click the Home page to refresh the website to it's original state.                       -->
<!-- There is also a link to another page where the open API data was sourced from                               --> 
<!-- **************************************************************************************************************


<body>

    <section class="container-fluid p-0">
    
        <!--Nav-->
        
        <nav class="navbar navbar-light navbar-expand-sm bg-light fixed-top">
            <div class="container">
                <a class="navbar-brand font-weight-bold" href="">
                    Sunbury
            </a>
                <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ml-auto">
                        <li class="active nav-item mr-2"><a class="nav-link" href="">Home</a></li>

                        <li id="stopandsearch-link" class="nav-item menu-nav-links mr2"><a class="nav-link" href="#">Stop & Search Charts</a></li>
                        <li id="police-link" class="nav-item menu-nav-links mr2"><a class="nav-link" href="https://data.police.uk" target="_blank">Data Source</a></li>


                    </ul>
                </div>
            </div>
        </nav>
        
        <!--Nav end-->
        
        <main>

<!-- *********************************************************************************************************** -->
<!--    The article consists of the pieChart and googles map that are built from the main.js file.               --> 
<!--    Below the article is the crimeTable that is dynamically created by appending table,tr,th & td elements.  -->
<!--                                                                                                             -->
<!--    jQuery is used to empty the article and crimeTable to generate the barcharts as if they were on another  -->
<!--    page.                                                                                                    --> 
<!-- *********************************************************************************************************** -->


            <article>

                <div class="row no-gutters set-position border-settings">
                    <div class="col-12 col-md-4 chart-box-style text-center">
                        <div id="piechart">
                            <h5> Select Incident Categories to Explore</h5>
                            <div id="selected-filter">selected: <span class="filter"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-8 map-style">
                        <div id="map"></div>
                    </div>
                </div>


            </article>

            <div>
                <!--                <select id="select-area"> -->
                <!--                                        <option value="default">Select Area</option>  -->
                <!--                    </select>  -->
                <!--            <select id="select-month">  -->
                <!--                            <option value="default" >Select Month</option>  -->
                <!--                    </select>  -->


            </div>


            <div class="container-fluid bg-light">
                <!--        <button class="btn1 button clear" onclick="clearDocument()">Clear</button>  -->

                <!--            <button class="btn2 button" onclick="writeToDocument('https://data.police.uk/api/crime-categories?')">Categories</button> -->
                <!--            <button class="btn3 button" onclick="writeToDocument('https://data.police.uk/api/forces')">Forces</button> -->
                <!--            <button class="btn4 button" onclick="writeToDocument(' https://data.police.uk/api/surrey/neighbourhoods')">Neighbourhoods</button> -->
                <!--            <button class="btn9 button" onclick="writeToDocument3('https://data.police.uk/api/forces/surrey')">Special Forces</button> -->

                <br>
                <br>
                <h4 class="msgHeader">Last month there were 91 incidents in Sunbury</h4>
            </div>


            <div id="crimeTable" class="crimeTable bg-light"></div>

<!-- *********************************************************************************************************** -->
<!--    The below 3 interactive barcharts are built in one row and when a specific column is clicked the graphs  --> 
<!--    change accordingly                                                                                       -->
<!-- *********************************************************************************************************** -->

            <div id="chartHeader0"></div>
            <div class="row bg-light">
             
                <div class="col-12 col-md-4 col-lg-3 chart">

                    <div id="chartHeader1"></div>
                    <div id="per-gender"></div>
                </div>
                <div class="col-12 col-md-4 col-lg-3 chart">
                    <div id="chartHeader2"></div>
                    <div id="per-success"></div>
                </div>
                <div class="col-12 col-md-4 col-lg-3 chart">
                    <div id="chartHeader3"></div>
                    <div id="per-ethnicity"></div>

                </div>


        </main>
        
<!-- ********************************************************************************************************** -->
<!--    The scripts are at the end of the main element so they get loaded last                                  --> 
<!-- ********************************************************************************************************** -->

        <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js "></script>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js " integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=" anonymous "></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
        <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgT13Qu2yjS5acflZt3nCyTvd0VWQ0l-E&libraries=places&callback=initMap"></script>
        <script src="assets/js/main.js"></script>
        <script src="assets/js/maps.js"></script>

</body>

</html>
